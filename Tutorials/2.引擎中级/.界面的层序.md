# 一、说明

&emsp;&emsp;地图的画面从外到内有4个层组成：

game.$sys.screen：屏幕（组件位置和大小固定）（所有，包含战斗场景）
game.$sys.viewport：游戏视窗，组件位置和大小固定
game.$sys.scene：场景（组件位置和大小固定，但会被scale影响）
game.$sys.map：地图，组件的容器（组件会改变大小和随地图移动）

# 二、解释

&emsp;&emsp;game.$sys.screen就是整个屏幕，一般你不要去修改它（强制修改会影响到所有的层），但可以读取它的属性。将组件挂载在它的下面能实现屏幕固定（按键、信息框、选择框等都是它的子组件，比如你可以挂人物的数据或金钱等）。

&emsp;&emsp;game.$sys.viewport是游戏视窗，靠近观察者，你可以理解为相机的观察口，你可以调节它的大小来实现一些效果，比如给一些屏幕组件留出位置来显示。也可以把组件挂载到它的子组件内（不过很少这样做）。

&emsp;&emsp;game.$sys.scene是游戏场景，靠近地图，可理解为你给相机的取景框，不能修改它，挂载的组件的位置和大小是固定的但会被game.scale影响。

&emsp;&emsp;game.$sys.map是整个地图，这个好理解，也是人物组件的容器，它的大小也不要去修改，挂载的组件的位置是固定在地图上的，也受game.scale影响。

# 三、使用的地方

&emsp;&emsp;1、game.showimage、game.showsprite的$parent属性。

&emsp;&emsp;2、自定义的组件。

# 四、战斗界面的层序

&emsp;&emsp;战斗界面只有3个层序（没有地图概念）：

&emsp;&emsp;fight.\$sys.screen、fight.\$sys.viewport、fight.\$sys.scene。

&emsp;&emsp;分别对应了地图场景的前三个层。

&emsp;&emsp;但注意的是，战斗界面受game.\$sys.screen的影响（因为战斗场景组件是game.\$sys.screen的子组件），如果你强制修改了game.\$sys.screen的大小，那么整个战斗界面的所有层也会收到影响。
